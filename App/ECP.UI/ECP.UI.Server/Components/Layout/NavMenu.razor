@using MudBlazor;
@using ECP.UI.Server.Components.Search
@inject NavigationManager NavManager
@implements IDisposable

    <MudAppBar Elevation="0" Fixed="false" Color="Color.Transparent" WrapContent="true" Class="px-2">
 
  
   
    @if (NavManager.ToBaseRelativePath(NavManager.Uri) != "")
    {

        <MudLink Color="Color.Default"
                 Href="/"
                 >
            Home
        </MudLink>
        <MudSpacer />
        <MudLink Href="/collections" Class="nav-link collections-link rounded-pill" Underline="Underline.None">
            <MudIcon Icon="@Icons.Material.Filled.CollectionsBookmark" Style="height: 100%;" Class="nav-icon"/>
             <MudHidden Breakpoint="Breakpoint.SmAndDown">
                Collections
            </MudHidden>
        </MudLink>
        <MudLink Href="/search" Class="nav-link explore-link collections-link rounded-pill" Underline="Underline.None">
            <MudIcon Icon="@Icons.Material.Filled.Explore" Style="height: 100%;" Class="nav-icon" />
            <MudHidden Breakpoint="Breakpoint.SmAndDown">
                Explore
            </MudHidden>
        </MudLink>
        <MudHidden Breakpoint="Breakpoint.SmAndDown">
            <div class="search-controls">
                <SearchBar SearchBarColor="SearchBarColor.WHITE"></SearchBar>
            </div>
        </MudHidden>
        <MudHidden Breakpoint="Breakpoint.LgAndUp">
            <MudIcon Icon="@Icons.Material.Filled.Search" Size="Size.Large"></MudIcon>
        </MudHidden>
      
     
    }
    </MudAppBar>


<style>
     @@media (min-width: 960px) {
        .nav-icon{
            font-size: 2.25rem !important;
        }
    }
   

    .nav-link {
        display: flex;
        padding: 0.3rem 1rem 0.3rem 1rem;
        flex-direction: row;
        align-content: center;
        align-items: center;
        color: dimgray;
        margin-left: 1rem;
        transition: transform 1s ease-in-out;
    }

    .explore-link{  
        margin-right: 1.5rem;
        margin-left: 0.5rem !important;
    }

        .nav-link svg {
        fill: gray !important;
        margin-right: 0.5rem;
    }

        .nav-link:hover {
            background-color: #e3e3e3;
      }
</style>
 


@code{
    

    protected override void OnInitialized()
    {
        NavManager.LocationChanged += OnLocationChanged;
    }

    private void OnLocationChanged(object sender, LocationChangedEventArgs e)
    {
        StateHasChanged();
    }

    public void Dispose()
    {
        NavManager.LocationChanged -= OnLocationChanged;
    }
  
}